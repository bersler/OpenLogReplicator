= Reference Manual
:author: Adam Leszczyński <aleszczynski@bersler.com>
:revnumber: 1.9.0
:revdate: 2026-02-02
:icons: font
:toc: preamble

[frame="none",grid="none"]
|====
|[.small]#Author: {author}, version: {revnumber}, date: {revdate}#
|====

This reference manual describes runtime options, directory permissions and the main configuration for OpenLogReplicator.
It is intended as a concise operational guide; detailed element descriptions are available in the referenced files.

== Quickstart

* Place the configuration file `OpenLogReplicator.json` in the process working directory (or provide it with `-f`).
* Ensure the process user can read and write directories referenced by the configuration (checkpoints, swap, dumps).
* Start the program with appropriate CLI options (examples below).

== Command line parameters

OpenLogReplicator is non-interactive.
Supported command-line options:

* `-f|--file <config file>` — path to configuration file (default: `OpenLogReplicator.json`).
* `-p <process name>` — process name visible in system process lists (default: `OpenLogReplicator`).
* `-r|--root` — disable the startup root-check (not recommended for production).
* `-v|--version` — print version and exit.

Example invocation:

[source,bash]
----
./OpenLogReplicator -f ./configs/OpenLogReplicator.json -p OLReplicator
----

== Startup

When starting a new replication session, a startup parameter is required.
The startup parameters define the point in time when the program starts processing redo log files.
Startup parameters are required only for `online` reader mode.
For `batch` reader modes, the program starts processing from the beginning of the provided redo log files.
For `offline` reader mode, the program starts processing from the last checkpoint file.
The following startup parameters are available:

* `-t now` -- start replication from the current time.

* `-t now,<SEQ>` -- start replication from the current time but start parsing redo log from sequence <SEQ>.

* `-t scn:<SCN>` -- start replication from the provided SCN number.

* `-t scn:<SCN>,<SEQ>` -- start replication from the provided SCN number but start parsing redo log from sequence <SEQ>.

* `-t seq:<SEQ>` -- start replication from redo log from sequence <SEQ>.

* `-t "time:<TIME>"` -- start replication from the provided absolute time value.

The value is in format `YYYY-MM-DD HH24:MI:SS` and is converted to SCN using `TIMESTAMP_TO_SCN` sql function.
For example, if the value is set to `2025-01-01 00:00:00`, the program will start from the SCN, which was active at the beginning of 2025.
Use quotion marks ("") when providing this argument.

* `-t "time:<TIME>,<SEQ>`" -- start replication from the provided absolute time value but start parsing redo log from sequence <SEQ>.

* `-t time_rel:<SHIFT>` -- start replication from the provided relative time <SHIFT> value.

The value and is relative to the current time using `TIMESTAMP_TO_SCN` sql function.
For example, if the value is set to `3600`, the program will start from the SCN, which was active 1 hour ago.
Provided number in seconds.

* `-t time_rel:<SHIFT>,<SEQ>` -- start replication from the provided relative time <SHIFT> value but start parsing redo log from sequence <SEQ>.

_IMPORTANT:_ There is no default value for the startup parameter.
The startup parameter is invalid when the program was already started earlier and a checkpoint file exists.
To force start replication from the beginning, the checkpoint files should be removed.

All parameters are defined in `OpenLogReplicator.json` config file which should be placed in the same directory.
The file should be in JSON format.
For start please check example config files in `scripts` directory.
Refer to a full parameters list for more details.

== Configuration

All runtime configuration is defined in `OpenLogReplicator.json`.
Refer to the configuration reference for full details: xref:../json/json.adoc[OpenLogReplicator.json].

- Configuration is a single JSON object containing top-level elements such as `source`, `target`, `memory`, `format`, `filter`, and `debug`.
- Example configuration files and templates are available in the `scripts` directory in the repository.

== Output and logging

- All program diagnostic and error messages are written to _stderr_.
- Some internal JSON output may be written to _stdout_ when a test/debug option is enabled in the configuration.
- Use conservative `log-level` and `trace` settings in production; enable higher verbosity only for troubleshooting.

== Directory and file permissions

The process requires appropriate filesystem permissions for directories used by the configuration:

* Checkpoint directory
- The application periodically writes checkpoint files named like `<database>-chkpt.json` and `<database>-chkpt-<scn>.json`.
- The process user must have read, write and execute permissions on the checkpoint directory.

* Swap and dump paths
- If swapping is enabled (`swap-path`) or dumps are produced (`dump-path`), ensure those directories are writable and have sufficient free space and I/O performance.

_CAUTION:_ Insufficient permissions or lack of space may cause unexpected process termination.

== Runtime behavior notes

* The `min-mb` / `max-mb` memory settings in the `memory` element control resident allocations and buffer sizing.
Verify buffer minima sum remains below `max-mb`.
* When enabling swap, prefer fast local storage to avoid high latency and unpredictable throughput.
* Changing configuration settings in production (especially `source`/`target`, `filter` or memory parameters) should be validated in a staging environment and may require resetting checkpoints.

== Troubleshooting

* Use `debug` element options sparingly; `stop-*` settings will terminate the process for diagnostic capture.
* Use `dump-redo-log` and `dump-raw-data` only when diagnosing specific issues; dumps can be large and are intended for debugging.
* Increase `log-level` or add `trace` flags to obtain more detailed runtime information when investigating problems.

== See also

* xref:../json/json.adoc[OpenLogReplicator.json] — main configuration reference
* xref:../json/4.format.adoc[format element] — output serialization options
* xref:../json/9.memory.adoc[memory element] — memory and buffering
* xref:../json/5.filter.adoc[filter element] — table selection and filtering rules
* xref:../json/3.debug.adoc[debug element] — debug and diagnostics options
